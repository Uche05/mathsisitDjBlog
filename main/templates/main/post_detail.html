{% extends 'base.html' %}
{% block title %}{{ post.title }} · Maths Notes{% endblock %}

{% block content %}
<article aria-labelledby="postTitle">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:16px">
        <div>
            <h1 id="postTitle">{{ post.title }}</h1>
            <div class="post-meta small">
                {{ post.author.username }} · {{ post.created_at|date:"M j, Y H:i" }}
            </div>
        </div>

        {% if user.is_authenticated and (user == post.author or user.is_staff) %}
        <div class="flex">
            <a class="btn ghost" href="{% url 'post_edit' post.slug %}">Edit</a>
            <form action="{% url 'post_delete' post.slug %}" method="post" style="margin:0;">
                {% csrf_token %}
                <button class="btn danger" type="submit">Delete</button>
            </form>
        </div>
        {% endif %}
    </div>

    <hr style="border:none;border-top:1px solid rgba(148,163,184,0.4);margin:12px 0">

    <div style="white-space:pre-wrap">
        {{ post.content }}
    </div>
</article>
{% endblock %}